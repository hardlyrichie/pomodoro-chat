extends layout

block content
  script.
    let roomId = '#{id}';

  svg.loading(version='1.1', xmlns='http://www.w3.org/2000/svg', xmlns:xlink='http://www.w3.org/1999/xlink', x='0px', y='0px', viewbox='0 0 100 100', style='enable-background:new 0 0 100 100;', xml:space='preserve')
    style(type='text/css').
      .st0{fill:#F7931E;}
      .st1{fill:#B96E16;}
      .st2{fill:#006837;}
      .st3{fill:none;stroke:#FFFFFF;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10;}
    path.st0(d='M50,89.5C27.5,89.5,8.5,71.4,8.5,50c0-13.9,7.9-25.3,21.6-31.4c1.8-0.8,3.8-1.2,6.3-1.2c2.1,0,4.2,0.3,6.4,0.5\
    c2.3,0.3,4.7,0.6,7.1,0.6c2.8,0,5.3-0.3,7.8-0.6c2.1-0.3,4.1-0.5,6-0.5c3.1,0,5.6,0.6,8,2c9.1,5.2,19.7,16.4,19.7,30.6\
    C91.5,71.4,72.5,89.5,50,89.5z')
    path.st1(d='M34.5,24.5c-0.5,1.5,3,2,6,2s3-1,5,0s3,4,5,3s3-3,6-3s5-1,5-1c3-2,1-2,1-2l-11-1c0,0-11,0-14,1\
    S34.7,23.7,34.5,24.5z')
    path.st2(d='M59.7,18.7l-2.3,2.5l-2.8,1.5l0.2-0.3c0.3-0.4-1-3.2-1.1-3.4l-0.6,2.7c-0.3,0.4-0.7,1-1.2,1.4l0.1-5.7l1.8-8.5\
    c-1.1,0-3.9,5.5-3.9,6.6l-1.7,7.2L42.4,15l-1.7-5.1c-0.6,0.4,0.1,5.9,0.5,6.5l3.8,6.1l-3.4-2.7c-0.4-0.4-4.3-1.3-4.6-0.9l3.6,1.7\
    l5.9,5.7c0,0,0.1,0.1,0.2,0.1c0.6,0.5,1.6,0.9,2.8,0.9c1.3,0,2.4-0.4,2.9-1c0,0,0,0,0.1,0l5.5-3.8C58.2,22.1,59.9,19.1,59.7,18.7z')
    path.st3(d='M25.8,30.9c-7.3,3.7-8.3,13.2-8.3,13.2')

  .textChat.display-none
    h1= name

    .buttonGroup
      a.btn-circle(href='/' title='Back') 
        i.ion-android-arrow-back
      button.btn-circle.background-green.videochat__call(title='Start/Join Call') 
        i.ion-ios-telephone
      .inCall In Call: 0

    .messageArea.visibility-visible
      ul.chat
      form.chatBox
        input.chatBox__input(autocomplete='off' placeholder='Type a message here')

    .userlist
      h3.heading-tertiary.list__heading Users in room
      ul.list
      
  .videoChat.display-none
    .pomodoro
      .pomodoro__display
        h1.heading-primary.pomodoro__timer= session
        .pomodoro__label SESSION
      .pomodoro__timing-buttons
        button.btn-rect.background-green(data-action='start') Start
        button.btn-rect.background-red(data-action='stop') Stop
        button.btn-rect(data-action='reset') Reset
      .pomodoro__break-buttons.visibility-hidden
        button.btn-rect.background-blue(data-action='short') Short Break
        button.btn-rect.background-blue(data-action='long') Long Break
        button.btn-rect.background-blue(data-action='skip') Skip Break
      audio.alert
        source(src='/alert.mp3' type='audio/mpeg')
      audio.alarm
        source(src='/alarm.wav' type='audio/wav')         

    .videoArea

    .videoChat__buttons
      button.btn-circle.background-red.videochat__call.videochat__hangup(title='Hang Up')
        i.ion-ios-telephone
      button.btn-circle.videochat__hideVideo(title='Show/Hide Video') 
        i.ion-eye
      button.btn-circle.videochat__mute(title='Mute/Unmute') 
        i.ion-android-microphone
      button.btn-circle.showChat(title='Show Chat')
        i.ion-ios-chatbubble

  script(src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js')
  script(src='https://webrtc.github.io/adapter/adapter-latest.js')
  script(src='/javascripts/roomElements.js')
  script(src='/javascripts/room.js')
  script(src='/javascripts/videochat.js')
  script(src='/javascripts/pomodoro.js')
  script(src='/javascripts/loading.js')  

